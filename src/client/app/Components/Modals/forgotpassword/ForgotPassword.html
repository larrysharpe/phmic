<section class="login-form-section" ng-if="$ctrl.view === 'step1'">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Password Reset</h3>
        <a href="" ng-click="$ctrl.closeModal()" class="modal-close-btn"><i class="fa fa-times fa-2x" aria-hidden="true"></i></a>
    </div>
    <div class="modal-body" id="modal-body">
       <form class="loginmodalform" name="loginmodalform">
           <p>Enter the email that we'll use to recover your account, in case you can't remember your password.</p>
           <p class="text-left visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block">
               <label>Recovery Email Address</label> <br>
               <input type="email" placeholder="enter email" class="form-control" tooltip-placement="auto" uib-tooltip="{{$ctrl.toolTipEmail}}" ng-model="$ctrl.login.email" required>
           </p><br>
           <p>
               <button class="btn btn-danger" ng-click="$ctrl.closeModal()">
                   <i class="fa fa-times" aria-hidden="true"></i>
                   Cancel password recovery
               </button>
               <button class="btn btn-primary" ng-click="$ctrl.requestPasswordReset()">
                   <i class="glyphicon glyphicon-log-in" aria-hidden="true"></i>
                   Reset Password
               </button>
           </p>
       </form>
    </div>
</section>
<section ng-if="$ctrl.view === 'step2'">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Thank You!</h3>
        <a href="" ng-click="$ctrl.closeModal()" class="modal-close-btn"><i class="fa fa-times fa-2x" aria-hidden="true"></i></a>
    </div>
    <div class="modal-body" id="modal-body">
        <p>We have sent a reset token to your email address. Please enter the code below to reset your password.</p>
        <form class="passwordtokenform" name="passwordtokenform">
            <p class="text-left visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block">
                <label>Password Reset Token</label> <br>
                <input type="text" placeholder="enter your token" class="form-control" tooltip-placement="auto" uib-tooltip="{{$ctrl.toolTipEmail}}" ng-model="$ctrl.login.token" required>
            </p><br>
            <p>
                <button class="btn btn-danger" ng-click="$ctrl.closeModal()">
                    <i class="fa fa-times" aria-hidden="true"></i>
                    Cancel password recovery
                </button>
                <button class="btn btn-primary" ng-click="$ctrl.resetPasswordToken()">
                    <i class="glyphicon glyphicon-log-in" aria-hidden="true"></i>
                    Reset Password
                </button>
            </p>
        </form>
    </div>
</section>
<section ng-if="$ctrl.view === 'step3'">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Enter Your New Password</h3>
        <a href="" ng-click="$ctrl.closeModal()" class="modal-close-btn"><i class="fa fa-times fa-2x" aria-hidden="true"></i></a>
    </div>
    <div class="modal-body" id="modal-body">
        <p>
            Enter a new password below. The password must meet the minimum requirements specified.
        </p>

        <div class="row">
            <div class="col-sm-6">
                <div class="text-left visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block form-group">
                    <div class="label-badge">
                        <label for="password">Create A Password</label>
                    </div>
                    <input type="password" placeholder="enter password code" ng-model="$ctrl.acct.password" class="form-control" id="password" required>
                </div>
                <div class="text-left visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block form-group"
                     ng-if="$ctrl.showConfirm()">
                    <div class="label-badge">
                        <label for="confirm-password">Re-enter Password</label>
                    </div>
                    <input type="password" placeholder="re-enter password code" ng-model="$ctrl.acct.confirmpassword" class="form-control" id="confirm-password" required>
                </div>
            </div>
            <div class="col-sm-6">
                <p>Password Strength</p>
                <ng-password-meter password="$ctrl.acct.password"></ng-password-meter>

                <div class="text-left visible-xs-inline-block visible-sm-inline-block visible-md-inline-block visible-lg-inline-block">
                    <ul class="list-unstyled">
                        <li ng-class="{'text-danger': !$ctrl.checkPasswordLength(), 'text-success':$ctrl.checkPasswordLength() }">
                            <i class="fa fa-times" ng-if="!$ctrl.checkPasswordLength()"></i>
                            <i class="fa fa-check" ng-if="$ctrl.checkPasswordLength()"></i>
                            Make password at least 10 characters long
                        </li>
                        <li ng-class="{'text-danger': !$ctrl.checkForUppercase(), 'text-success':$ctrl.checkForUppercase() }">
                            <i class="fa fa-times" ng-if="!$ctrl.checkForUppercase()"></i>
                            <i class="fa fa-check" ng-if="$ctrl.checkForUppercase()"></i>
                            Include at least one uppercase letter
                        </li>
                        <li ng-class="{'text-danger': !$ctrl.checkForLowercase(), 'text-success':$ctrl.checkForLowercase() }">
                            <i class="fa fa-times" ng-if="!$ctrl.checkForLowercase()"></i>
                            <i class="fa fa-check" ng-if="$ctrl.checkForLowercase()"></i>
                            Include at least one lowercase letter
                        </li>
                        <li ng-class="{'text-danger': !$ctrl.checkForNumber(), 'text-success':$ctrl.checkForNumber() }">
                            <i class="fa fa-times" ng-if="!$ctrl.checkForNumber()"></i>
                            <i class="fa fa-check" ng-if="$ctrl.checkForNumber()"></i>
                            Include at least one number
                        </li>
                        <li ng-class="{'text-danger': $ctrl.hasRepeatedLetters(), 'text-success':!$ctrl.hasRepeatedLetters() }">
                            <i class="fa fa-times" ng-if="$ctrl.hasRepeatedLetters()"></i>
                            <i class="fa fa-check" ng-if="!$ctrl.hasRepeatedLetters()"></i>
                            Don't use repeating characters (e.g. 111)
                        </li>
                        <li ng-class="{'text-danger': $ctrl.checkForWords(), 'text-success':!$ctrl.checkForWords() }">
                            <i class="fa fa-times" ng-if="$ctrl.checkForWords()"></i>
                            <i class="fa fa-check" ng-if="!$ctrl.checkForWords()"></i>
                            Don't use the word "password" or anything like it
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <p>
            <button class="btn btn-danger" ng-click="$ctrl.closeModal()">
                <i class="fa fa-times" aria-hidden="true"></i>
                Cancel password recovery
            </button>
            <button class="btn btn-primary" ng-click="$ctrl.resetPassword()">
                <i class="glyphicon glyphicon-log-in" aria-hidden="true"></i>
                Reset Password
            </button>
        </p>
    </div>
</section>
<section ng-if="$ctrl.view === 'step4'">
    <div class="modal-header">
        <h3 class="modal-title" id="modal-title">Success!</h3>
        <a href="" ng-click="$ctrl.closeModal()" class="modal-close-btn"><i class="fa fa-times fa-2x" aria-hidden="true"></i></a>
    </div>
    <div class="modal-body" id="modal-body">
        <p>Your Password has been reset. You may now <a href="" ng-click="$ctrl.modals.open('login')">Login</a></p>
    </div>
</section>
